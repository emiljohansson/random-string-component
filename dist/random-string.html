<!-- Import Polymer -->
<link rel="import" href="../../polymer/polymer.html">

<!-- Define your custom element -->
<polymer-element name="random-string" attributes="length">

    <template>
        {{value}}
    </template>

    <script>
    (function() {

        var characters = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
        var lengthLimit = 1000;

        Polymer('random-string', {

            length: 20,
            value: '',

            // Fires when the "<polymer-element>" has been fully prepared
            ready: function() {
                this.generate();
            },

            generate: function() {
                this.value = "";
                var i = this.length;
                if (i > lengthLimit) {
                    i = lengthLimit;
                }
                while (i--) {
                    var j = Math.floor(Math.random()*characters.length);
                    this.value += characters.charAt(j);
                }
            },

            lengthChanged: function(oldVal, newVal) {
                this.generate();
            },

            limit: function() {
                return lengthLimit;
            }
        });
    }());
    </script>

</polymer-element>
